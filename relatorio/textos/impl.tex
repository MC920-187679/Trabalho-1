\section{Implementação} \label{sec:impl}

\subsection{Teoria: Correlação e Convolução}

    \input{textos/impl/teoria}

\subsection{Código da Convolução}

    \input{textos/impl/codigo}

\subsection{Tratamento de Bordas}

    \begin{figure}[H]
        \centering
        \input{figuras/borda}

        \caption{Argumentos válidos para \mintinline{bash}{--borda} ou \mintinline{bash}{-b}.}
        \label{fig:borda}
    \end{figure}

    Para que a convolução possa ser feita nas bordas da imagem, existem vários modos de tratamento. Na ferramenta foram implementadas três formas de tratamento de bordas, extensão do último pixel (\ref{fig:borda:extensao}), reflexão dos pixels de borda (\ref{fig:borda:reflexao}) e a mesma reflexão, mas sem repetir o pixel mais externo (\ref{fig:borda:reflexao-pulada}).

    A \textit{flag} \mintinline{bash}{--borda}, ou \mintinline{bash}{-b}, serve para controlar o tratamento de borda. As opções devem ser passadas como aparecem na \cref{fig:borda}. Por padrão, o tratamento é feito como na \cref{fig:borda:reflexao-pulada}, como se fosse a opção \mintinline{bash}{-b reflexao_pula_ultimo}. Ambos \textit{backends}, SciPy e OpenCV, funcionam com os três tipos de bordas.

    Apesar de interessante, e em alguns casos importante, o três tratamentos de bordas não alteram muito no resultado da convolução. A razão disso é que os \textit{kernels} desse trabalho são relativamente pequenos.
